import{_ as s,o as a,c as n,Q as o}from"./chunks/framework.385ac4c3.js";const h=JSON.parse('{"title":"调用接口","description":"","frontmatter":{},"headers":[],"relativePath":"guide/api-c.md","filePath":"guide/api-c.md"}'),l={name:"guide/api-c.md"},p=o(`<h1 id="调用接口" tabindex="-1">调用接口 <a class="header-anchor" href="#调用接口" aria-label="Permalink to &quot;调用接口&quot;">​</a></h1><h3 id="_1-接口地址-https-api-aiutra-com" tabindex="-1">1.接口地址：<strong><a href="https://api.aiutra.com" target="_blank" rel="noreferrer">https://api.aiutra.com</a></strong> <a class="header-anchor" href="#_1-接口地址-https-api-aiutra-com" aria-label="Permalink to &quot;1.接口地址：**https://api.aiutra.com**&quot;">​</a></h3><h3 id="_2-调用说明" tabindex="-1">2.调用说明 <a class="header-anchor" href="#_2-调用说明" aria-label="Permalink to &quot;2.调用说明&quot;">​</a></h3><ul><li>计费规则：与官网完全一致</li><li>调用方式：与官网完全一致</li><li>可用地区：中国境内可直接使用</li><li>支持并发：默认限制300次/分</li><li>余额查询：登录平台或使用OPENAI协议查询</li></ul><h3 id="_3-示例代码" tabindex="-1">3.示例代码 <a class="header-anchor" href="#_3-示例代码" aria-label="Permalink to &quot;3.示例代码&quot;">​</a></h3><h4 id="curl" tabindex="-1">Curl： <a class="header-anchor" href="#curl" aria-label="Permalink to &quot;Curl：&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">-H </span><span style="color:#9ECBFF;">&quot;Content-Type: application/json&quot;</span><span style="color:#E1E4E8;"> \\</span></span>
<span class="line"><span style="color:#E1E4E8;">-H </span><span style="color:#9ECBFF;">&quot;Authorization: Bearer sk-***************&quot;</span><span style="color:#E1E4E8;"> \\</span></span>
<span class="line"><span style="color:#E1E4E8;">-d &#39;{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;model&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;gpt-4&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;messages&quot;</span><span style="color:#E1E4E8;">: [{</span><span style="color:#79B8FF;">&quot;role&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;system&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">&quot;content&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;You are a helpful assistant.&quot;</span><span style="color:#E1E4E8;">}, {</span><span style="color:#79B8FF;">&quot;role&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;user&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">&quot;content&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;鲁迅为什么打周树人&quot;</span><span style="color:#E1E4E8;">}]</span></span>
<span class="line"><span style="color:#E1E4E8;">   }&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">-H </span><span style="color:#032F62;">&quot;Content-Type: application/json&quot;</span><span style="color:#24292E;"> \\</span></span>
<span class="line"><span style="color:#24292E;">-H </span><span style="color:#032F62;">&quot;Authorization: Bearer sk-***************&quot;</span><span style="color:#24292E;"> \\</span></span>
<span class="line"><span style="color:#24292E;">-d &#39;{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;model&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;gpt-4&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;messages&quot;</span><span style="color:#24292E;">: [{</span><span style="color:#005CC5;">&quot;role&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;system&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">&quot;content&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;You are a helpful assistant.&quot;</span><span style="color:#24292E;">}, {</span><span style="color:#005CC5;">&quot;role&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;user&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">&quot;content&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;鲁迅为什么打周树人&quot;</span><span style="color:#24292E;">}]</span></span>
<span class="line"><span style="color:#24292E;">   }&#39;</span></span></code></pre></div><h4 id="python" tabindex="-1">Python： <a class="header-anchor" href="#python" aria-label="Permalink to &quot;Python：&quot;">​</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> openai</span></span>
<span class="line"><span style="color:#E1E4E8;">openai.api_key </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;sk-***************&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">openai.api_base </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;https://api.aiutra.com/v1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">response </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> openai.ChatCompletion.create(</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#FFAB70;">model</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;gpt-4&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#FFAB70;">messages</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">[</span></span>
<span class="line"><span style="color:#E1E4E8;">       {</span><span style="color:#9ECBFF;">&#39;role&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;user&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;content&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;鲁迅为什么打周树人&quot;</span><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">   ],</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#FFAB70;">stream</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">True</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> chunk </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> response:</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(chunk.choices[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].delta.content, </span><span style="color:#FFAB70;">end</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">flush</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">True</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> openai</span></span>
<span class="line"><span style="color:#24292E;">openai.api_key </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;sk-***************&quot;</span></span>
<span class="line"><span style="color:#24292E;">openai.api_base </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;https://api.aiutra.com/v1&quot;</span></span>
<span class="line"><span style="color:#24292E;">response </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> openai.ChatCompletion.create(</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#E36209;">model</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;gpt-4&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#E36209;">messages</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">[</span></span>
<span class="line"><span style="color:#24292E;">       {</span><span style="color:#032F62;">&#39;role&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;user&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;content&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;鲁迅为什么打周树人&quot;</span><span style="color:#24292E;">},</span></span>
<span class="line"><span style="color:#24292E;">   ],</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#E36209;">stream</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">True</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> chunk </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> response:</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">(chunk.choices[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].delta.content, </span><span style="color:#E36209;">end</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">flush</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">True</span><span style="color:#24292E;">)</span></span></code></pre></div><h4 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h4><p>请查阅OPENAI官方文档</p>`,11),t=[p];function e(c,r,E,y,i,u){return a(),n("div",null,t)}const q=s(l,[["render",e]]);export{h as __pageData,q as default};
